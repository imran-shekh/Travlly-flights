<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Travlly Flights</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .swap-btn {
      cursor: pointer;
      font-size: 1.5rem;
      margin: 0 10px;
    }
  </style>
</head>
<body>
<div class="container mt-5">
  <h1 class="text-primary">Welcome to Travlly Flights âœˆï¸</h1>
  <p class="lead">Search for flights:</p>

  <div class="row g-2 align-items-center mb-4">
    <div class="col-md-4">
      <input type="text" id="fromInput" class="form-control" placeholder="From (e.g. DEL)">
    </div>
    <div class="col-md-1 text-center">
      <span class="swap-btn" onclick="swapLocations()">â‡„</span>
    </div>
    <div class="col-md-4">
      <input type="text" id="toInput" class="form-control" placeholder="To (e.g. BOM)">
    </div>
    <div class="col-md-3">
      <input type="date" id="dateInput" class="form-control">
    </div>
  </div>

  <div class="d-grid mb-4">
    <button class="btn btn-primary" onclick="searchFlights()">ğŸ” Search Flights</button>
  </div>

  <h3 class="text-success">Available Flights:</h3>
  <ul class="list-group mt-3" id="flightsList">
    <!-- Flights will be populated here -->
  </ul>
</div>

<script>
  function swapLocations() {
    const from = document.getElementById("fromInput");
    const to = document.getElementById("toInput");
    const temp = from.value;
    from.value = to.value;
    to.value = temp;
  }

  async function searchFlights() {
    const origin = document.getElementById("fromInput").value.toUpperCase();
    const destination = document.getElementById("toInput").value.toUpperCase();
    const date = document.getElementById("dateInput").value;

    if (data.flights && data.flights.length > 0) {
      data.flights.forEach(flight => {
        const li = document.createElement("li");
        li.classList.add("list-group-item");
        li.textContent = `âœˆï¸ Flight ${flight.flight_number} â€” ${flight.departure} â†’ ${flight.arrival}`;
        flightsList.appendChild(li);
      });
    } else {
      flightsList.innerHTML = '<li class="list-group-item text-danger">No flights found.</li>';
    }
    
  }
</script>
</body>
</html>
